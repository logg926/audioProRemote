# NOTES


### Add encrypted notification emails to `.travis.yml`

```bash
$ travis encrypt "alice@example.org" --add notifications.email.recipients
$ travis encrypt "bob@example.org" --append --add notifications.email.recipients
```

Related: https://travis-ci.community/t/use-travis-encrypt-to-set-multiple-notifications-email-recipients/976


### Opus and packet loss

Opus has an inband mechanism to send inband FEC. It's based on the `packetLoss` in the `ReceiverReports`. But, if mediasoup generates those `ReceiverReports` based on how **it** receives audio from the `Producer`, the `Producer` cannot send inband FEC based on the worst `Consumer` (in Opus there is no `NACK`).

So, mediasoup may collect `ReceiverReports` form all `Consumers`,  take the worst `packetLoss` in them, and send such a `packetLoss` in the `ReceiverReport` sent to the `Producer`.

**Proposal:**

* Each Opus Consumer generates a `packetLoss` event everytime it receives a RR from the receiver.
* Such a event is received by the Opus Producer, who takes those remote `packetLoss` values into account when it comes to generate its own RR.


### PLIs every two second

If there are LOT of `Consumers` and the `Producer` receives two `PLI` per second, it will use 4x bandwidth, so this is a problem.

**Proposal (Optimization):**

* The Producer stores the latest received keyframe and next packets within 2 seconds.
* If a PLI is received by the remote (and just in this case) within those 2 seconds, send him all the stored packets all together.


### Broadcasting

* Ability to create a `Room` (in JS) that has N `Routers`.
* Each `Router` runs in a different mediasoup worker subprocess.
* Ability to create a `Transport` in a specific `Router`.
* Ability to create a trunk between `Routers`.
